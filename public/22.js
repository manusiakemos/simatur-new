(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{236:function(e,t,a){"use strict";var s=a(32);a.n(s).a},237:function(e,t,a){(e.exports=a(12)(!1)).push([e.i,"\n.wrapper-avatar[data-v-577c85ec] {\n    position: relative;\n}\n.avatar-overlay[data-v-577c85ec] {\n    opacity: 0;\n    position: absolute;\n    width: 300px;\n    height: 300px;\n    top: 0%;\n    left: 0%;\n}\n.avatar-overlay[data-v-577c85ec]:hover {\n    opacity:1;\n    background: rgba(0, 0, 0, 0.5);\n}\n",""])},32:function(e,t,a){var s=a(237);"string"==typeof s&&(s=[[e.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(13)(s,r);s.locals&&(e.exports=s.locals)},327:function(e,t,a){"use strict";a.r(t);var s={props:["value"],computed:{file:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0]}}},r=a(1),o={components:{UploadFile:Object(r.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"large-12 medium-12 small-12 cell"},[t("label",[this._v("File\n        "),t("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:this.handleFileUpload}})])])}),[],!1,null,null,null).exports},computed:{userData:function(){return this.$store.state.auth.data}},mounted:function(){this.user=this.userData},methods:{updateProfile:function(){var e=this;this.loading=!0,this.axios.put(this.user.links.update,this.user).then((function(t){var a=t.data;t.data.status&&(e.$store.commit("setAuthData",a),e.loading=!1,e.errors=[],e.$message({type:t.data.text,message:t.data.message}))})).catch((function(t){e.errors=t.response.data.errors})),this.loading=!1},onSuccessUpload:function(){var e=this;this.axios.get("/api/profile").then((function(t){e.$store.commit("setAuthData",t.data),e.makeToast("Avatar berhasil diupdate")}))},showModalUpload:function(){this.show_modal=!0},submitFile:function(){var e=this,t=new FormData;t.append("file",this.file),this.axios.post("/api/profile/avatar",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.onSuccessUpload()})).catch((function(t){e.makeToast(t)}))}},data:function(){return{items:[{text:"Admin",href:"#"},{text:"Manage",href:"#"},{text:"Library",active:!0}],user:"",errors:[],loading:!1,modal_title:"Change Avatar",show_modal:!1,headers:{"X-XSRF-TOKEN":getCookie("XSRF-TOKEN")},file:""}}},i=(a(236),Object(r.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-breadcrumb",{staticClass:"bg-white shadow-sm",attrs:{items:e.items}}),e._v(" "),a("b-card",{staticClass:"shadow",attrs:{"border-variant":"light"}},[a("div",{staticClass:"d-lg-flex d-lg-inline-block"},[a("div",{staticClass:"d-block mb-2 p-4 d-flex justify-content-center",on:{click:e.showModalUpload}},[a("div",{staticClass:"wrapper-avatar"},[a("b-img-lazy",{attrs:{src:e.userData.avatar,width:"300",height:"300"}}),e._v(" "),a("div",{staticClass:"avatar-overlay d-flex justify-content-center align-items-center"},[a("span",{staticClass:"fa fa-plus fa-4x text-white"})])],1)]),e._v(" "),a("div",{staticClass:"d-block ml-3 w-100 pr-4"},[a("b-form-group",{attrs:{id:"username-group",label:"Username","label-for":"username","invalid-feedback":this.errors&&this.errors.username?this.errors.username.join():"",state:!this.errors||!this.errors.username}},[a("b-form-input",{attrs:{id:"username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"name-group",label:"Name","label-for":"name","invalid-feedback":this.errors&&this.errors.name?this.errors.name.join():"",state:!this.errors||!this.errors.name}},[a("b-form-input",{attrs:{id:"name"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"phone-group",label:"Phone","label-for":"phone","invalid-feedback":this.errors&&this.errors.phone?this.errors.phone.join():"",state:!this.errors||!this.errors.phone}},[a("b-form-input",{attrs:{id:"phone"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"email-group",label:"Email","label-for":"email","invalid-feedback":this.errors&&this.errors.email?this.errors.email.join():"",state:!this.errors||!this.errors.email}},[a("b-form-input",{attrs:{id:"email",type:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"password-group",label:"Password","label-for":"password","invalid-feedback":this.errors&&this.errors.password?this.errors.password.join():"",state:!this.errors||!this.errors.password}},[a("b-form-input",{attrs:{id:"password",type:"password",autocomplete:"new-password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"password_confirmation-group",label:"Password Confirmation","label-for":"password_confirmation","invalid-feedback":this.errors&&this.errors.password_confirmation?this.errors.password_confirmation.join():"",state:!this.errors||!this.errors.password_confirmation}},[a("b-form-input",{attrs:{id:"password_confirmation",type:"password"},model:{value:e.user.password_confirmation,callback:function(t){e.$set(e.user,"password_confirmation",t)},expression:"user.password_confirmation"}})],1),e._v(" "),a("div",{staticClass:"mt-5"},[a("b-btn",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:e.updateProfile}},[e._v("Update Profile\n                        ")])],1)],1)])]),e._v(" "),a("b-modal",{attrs:{"no-header":""},scopedSlots:e._u([{key:"modal-footer",fn:function(t){t.ok,t.cancel,t.hide;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){e.show_modal=!1}}},[e._v("\n                    Tutup\n                ")]),e._v(" "),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.submitFile()}}},[e._v("\n                    Upload\n                ")])]}}]),model:{value:e.show_modal,callback:function(t){e.show_modal=t},expression:"show_modal"}},[a("upload-file",{model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)],1)])}),[],!1,null,"577c85ec",null));t.default=i.exports}}]);